<?xml version="1.0" encoding="utf-8"?>
<!--
  For more information on how to configure your ASP.NET application, please visit
  http://go.microsoft.com/fwlink/?LinkId=301880
  -->
<configuration>
  <configSections>
    <section name="system.identityModel" type="System.IdentityModel.Configuration.SystemIdentityModelSection, System.IdentityModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
    <section name="system.identityModel.services" type="System.IdentityModel.Services.Configuration.SystemIdentityModelServicesSection, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
  </configSections>

  <system.identityModel>
    <identityConfiguration saveBootstrapContext="true">
      <audienceUris>
        <add value="https://localhost/dotnetsamplewebapp/" />
      </audienceUris>
      <issuerNameRegistry type="System.IdentityModel.Tokens.ConfigurationBasedIssuerNameRegistry, System.IdentityModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089">
        <trustedIssuers>
          <!--log-in.test.miljoeportal.dk.cer-->
          <add thumbprint="c3ab04c6d018029443d90127290b48e0f021eef2" name="CN=log-in.test.miljoeportal.dk signing" />
        </trustedIssuers>
      </issuerNameRegistry>
    </identityConfiguration>
  </system.identityModel>

  <system.identityModel.services>
    <federationConfiguration>
      <!--centraladmin-administration.test.miljoeportal.dk (Self Signed)-->
      <serviceCertificate>
        <certificateReference x509FindType="FindBySubjectName" findValue="dotnetsamplewebapp-encryption.dk" storeLocation="LocalMachine" storeName="My"/>
      </serviceCertificate>
      <wsFederation passiveRedirectEnabled="true" issuer="https://log-in.test.miljoeportal.dk/runtime/WSFederation/WSFederation.idp" realm="https://localhost/dotnetsamplewebapp/" />
      <cookieHandler requireSsl="true">
      </cookieHandler>
    </federationConfiguration>
  </system.identityModel.services>


  <appSettings>
    <add key="webpages:Version" value="3.0.0.0"/>
    <add key="webpages:Enabled" value="false"/>
    <add key="ClientValidationEnabled" value="true"/>
    <add key="UnobtrusiveJavaScriptEnabled" value="true"/>
    
    
    <!-- ................................ Identify STS Settings ................................ -->

    <!-- Adresse til Sts'ens certificate end point (x509 auth) -->
    <add key="StsIdentifyCertificateEndpointX509_Uri" value="http://log-in.test.miljoeportal.dk/runtime/services/trust/14/certificate"/>
    <add key="StsIdentifyCertificateEndpointX509_Identity" value="log-in.test.miljoeportal.dk signing"/>

    <!-- Adresse til Sts'ens windows end point (username auth) -->
    <add key="StsIdentifyCertificateEndpointUserName_Uri" value="http://log-in.test.miljoeportal.dk/runtime/services/trust/14/username"/>
    <add key="StsIdentifyCertificateEndpointuserName_Identity" value="log-in.test.miljoeportal.dk signing"/>

    <!-- Adresse til Sts'ens issuedtoken end point (localauth auth) -->
    <add key="StsIdentifyIssuedToken_Uri" value="http://log-in.test.miljoeportal.dk/runtime/services/trust/14/issuedtokensymmetricbasic256sha256"/>
    <add key="StsIdentifyIssuedToken_Identity" value="log-in.test.miljoeportal.dk signing"/>

    <add key="StsIdentifyServiceCertificate" value="MIIDFzCCAf+gAwIBAgIQXN3jOzxDjqtOUny/M4IR5DANBgkqhkiG9w0BAQsFADAuMSwwKgYDVQQDDCNsb2ctaW4udGVzdC5taWxqb2Vwb3J0YWwuZGsgc2lnbmluZzAeFw0xNDA5MTAxNTE3MjdaFw0yMDEyMzExNTE3MjdaMC4xLDAqBgNVBAMMI2xvZy1pbi50ZXN0Lm1pbGpvZXBvcnRhbC5kayBzaWduaW5nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0nfO+UBfb7kHYjvOApS7T7wr3M4lfHH+Anrret8vz0TRMz+qbEaKHL37HGmrfizmbi04IfzmaxQiXwqsGNc72kxUWCrwfn0aNGdiMrr78db+VP9hHOUI1Z5iskqqVFG/DvsBYwU0fJiIwvaLlK/72ELMLVO8//iCcWVQvXc8B8Cpj3ufIoyJD7cdKRM6qJsLwDLl5icBX/Tg25RE5VPJAru9RZcb9cDYDh/i4jCJTkkYIOCxn6ykx18inSa8fXGBbcH7u7Q9icN+GctxvwQXV9CkfwwZ6OGUzn5tdR+Z2fNQeK2MHcg/LDQHZqv8wryQoPpA4tMCU9SF6LnoPq+6yQIDAQABozEwLzAdBgNVHQ4EFgQUsxf66JV5d4T/axcZkPZQMDqYBCcwDgYDVR0PAQH/BAQDAgUgMA0GCSqGSIb3DQEBCwUAA4IBAQASiOoOzhvsGDWnLe4y6ZLrWPU5xL3RLZ/UbtYjpP4HKIb3s3mUeQpfnYsyd2BudbFc+D0s4LaqMcAHFfWY/tLBA9NAO2MaMixdmXM9XacXqj/9eqtvV9v3hryFlbgPRW2ZeiLNABDJm8sKrAi3Qzyp6nc7cH+zkqr/EyDfTLQR0IT2LBrnMX9USPMHVViAkmXpCZL786V9phNvP1Jhw1ze2cGeXo8tVZ8dIHPB2euN6sewfv+gsNaYzxnjmo3ctk92mDNVWFsFlGoTlXuzifwg8G5HHSmQU9w0w5mcHiXEirHGkQtXIdDkX7vKJZ/SJG3IrP8g1DrNBPnX55pf9fXW"/>

    <add key="DmpUserName" value="vnTest"/>
    <add key="DmpPassword" value="!Passw0rd"/>

    <!-- ................................ Service Settings ................................ -->

    <!-- Service Jupiter Write -->
    <add key="JavaServiceCertificate" value="MIIDbjCCAlagAwIBAgIET6eKCTANBgkqhkiG9w0BAQUFADB5MQswCQYDVQQGEwJESzEQMA4GA1UECBMHVW5rbm93bjETMBEGA1UEBxMKQ29wZW5oYWdlbjENMAsGA1UEChMER0VVUzEQMA4GA1UECxMHVW5rbm93bjEiMCAGA1UEAxMZZ2V1c2p1cHRlc3QtZW5jcnlwdGlvbi5kazAeFw0xMjA1MDcwODM4MzNaFw0yMjA1MDcwODM4MzNaMHkxCzAJBgNVBAYTAkRLMRAwDgYDVQQIEwdVbmtub3duMRMwEQYDVQQHEwpDb3BlbmhhZ2VuMQ0wCwYDVQQKEwRHRVVTMRAwDgYDVQQLEwdVbmtub3duMSIwIAYDVQQDExlnZXVzanVwdGVzdC1lbmNyeXB0aW9uLmRrMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtDn0p8l8ExSezo5KlXjSWRNMveaRE7I1GFZko+cS/SCMBsbhWu+Lqxnr2yzsZ4xnAjDdrsJENOLYifvh8PyI+agcU/GlENz2yNJJzvPNpdIMHeETT09iKKaP70vHAMQ2eI0LxKn14TEW/3j2BU5SJeLG+19HqnHI6BXWrR0r5rMItbX91be9RpIiUkkDcMCudQnkmhZvZHV8gAim34G0NW2AK4mvMndMUBBgbIk1LR9wCrrl1mr7QVjgvIg+gZjK1c6XfhgEN+3RABnQviNnGqDA2FE8DT+K51R3IJ9ppSCPppd16lTJ/BP1SHNzXyjGp7P03IapTJZ8cCvPgbbuywIDAQABMA0GCSqGSIb3DQEBBQUAA4IBAQCobcP7Thq434ujDg+RkNZVPgrMO/On+cttKg9+uZ3QFlWiHNZ8GaMH9X4PkrmzgegabWRl2stBscsNMz4DRD/GE3ycAlf0Sc06PyZbQ0L6uYQYS8mpshFgm0QzrB5yy3WYXm0FO8I6uI1rk+mfksXsVuKeoPRiM+uQ2cflecy5oZgpECGv6PS5e+svHlkFcuS1q+R6TH7QR//edBaETDhUv86zu7Y3G3S4uDYs2tzUga3b4Emktozki+r9jP1LsdHbgzyQH034AG1NaLTI8idtktOiMzNU+x4Qou69swFVyjjHP+DmpS1EKmGkvRbqsrex/3XwFveRTFt/meuoQvji"/>
    <add key="JavaServiceURL" value="http://geusjuptest.geus.dk/jupiter.write.1.2.0/jupiterwrite.svc"/>
    <add key="JavaServiceCertifikatNavn" value="geusjuptest-encryption.dk"/>

    <!-- Service DotNetSamples.Service -->
    <add key="DotNetServiceCertificate" value="MIIDTTCCAvugAwIBAgIQoUpJ315kSLpE1WeVrBYqzDAJBgUrDgMCHQUAMBYxFDASBgNVBAMTC1Jv b3QgQWdlbmN5MB4XDTEwMDcxNjEwMjAwNVoXDTM5MTIzMTIzNTk1OVowLDEqMCgGA1UEAxMhZG90 bmV0c2FtcGxlc2VydmljZS1lbmNyeXB0aW9uLmRrMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIIC CgKCAgEAqRfyLUvN/hC5aads3OW0jHt1AND/YXvTMyZlXjScrVFGJ7uRAB903oI3qv9Os7CN0ZZT /HwWsByQ30weLDJ6FLP9cDOtduDReThR0mfRdm6IR/lnJWpfrxZ5D/ApI5q1xhONk3FVqHEm56OT 47TA93wibNGJmXixsO5eO2CRNjgrWqFD8JE8QH4Y8cqYLKgmqjZZkxrLvcmz8f9iMbgd2u+c/SGa axhWwLJ4s/bl0bU7B7mv7vBC61VtIklhGrl4u8/N5BsVZ80b3yo05vvNL79eUe7cL2Wym5+KR7B1 N7p1wqsXP2eXPU8z3eGOu/gcJzL8EzF3YtdJe3JQm0svgt90vBCl1X8RgJF4ipnM3v+BdanTmhQw bLMyYksyMuBtt6Ita7kV0sUQ1ZAtjarsuoFrr9JuIeLPnssRQxQ8+05nfgWAk0A6jGM2Ho8b0SCH YXcrVxGKBdEpADKvtLRd6L26Y3hxffk6FwmhkhawSpc7Sk/iS2t7uv0aQxiVtRv8tcjdFl2fED+w yOqFVRx/DcBWujc3LjlfbpS5kzGOq31lL/YJNxW1Cj4PF6HYZ0HrayeI1327QXZQUirFKyxf1TgP s7g1/KAWRphGcSuR++8NO92TglDnzy4AQSJ9cTaxCBaY6by2sEAd90lQF1Ou3uw07pRajK0NcWQ6 KnHYTGECAwEAAaNLMEkwRwYDVR0BBEAwPoAQEuQJLQYdHU8AjWEh3BZkY6EYMBYxFDASBgNVBAMT C1Jvb3QgQWdlbmN5ghAGN2wAqgBkihHPuNSqXDX0MAkGBSsOAwIdBQADQQA31CWZ6tNTMkla26iM ZhO6vkJoDvCf8O0WqrJheUgL0a2eAdTq8BB7Be3g0PWAub7i7u8YD4hksKUzjKcmNpO0"/>
    <add key="DotNetServiceURL" value="http://localhost/dotnetsampleservice/service.svc"/>
    <add key="DotNetServiceCertifikatNavn" value="dotnetsampleservice-encryption.dk"/>

  </appSettings>
  <system.web>
    <compilation debug="true" targetFramework="4.5.2"/>
    <httpRuntime targetFramework="4.5.2"/>
    <httpModules>
      <add name="ApplicationInsightsWebTracking" type="Microsoft.ApplicationInsights.Web.ApplicationInsightsHttpModule, Microsoft.AI.Web"/>
    </httpModules>
  </system.web>
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Helpers" publicKeyToken="31bf3856ad364e35"/>
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0"/>
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.WebPages" publicKeyToken="31bf3856ad364e35"/>
        <bindingRedirect oldVersion="1.0.0.0-3.0.0.0" newVersion="3.0.0.0"/>
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35"/>
        <bindingRedirect oldVersion="1.0.0.0-5.2.3.0" newVersion="5.2.3.0"/>
      </dependentAssembly>
    </assemblyBinding>
  </runtime>
  <system.codedom>
    <compilers>
      <compiler language="c#;cs;csharp" extension=".cs"
        type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.CSharpCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
        warningLevel="4" compilerOptions="/langversion:6 /nowarn:1659;1699;1701"/>
      <compiler language="vb;vbs;visualbasic;vbscript" extension=".vb"
        type="Microsoft.CodeDom.Providers.DotNetCompilerPlatform.VBCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35"
        warningLevel="4" compilerOptions="/langversion:14 /nowarn:41008 /define:_MYTYPE=\&quot;Web\&quot; /optionInfer+"/>
    </compilers>
  </system.codedom>
  <system.webServer>
    <validation validateIntegratedModeConfiguration="false"/>
    
    <modules>

     <add name="SessionAuthenticationModule" type="System.IdentityModel.Services.SessionAuthenticationModule, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
     <add name="WSFederationAuthenticationModule" type="System.IdentityModel.Services.WSFederationAuthenticationModule, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />

      <remove name="ApplicationInsightsWebTracking"/>
      <add name="ApplicationInsightsWebTracking" type="Microsoft.ApplicationInsights.Web.ApplicationInsightsHttpModule, Microsoft.AI.Web"
        preCondition="managedHandler"/>
    </modules>
  </system.webServer>

  <!-- Deaktiver anonymous access -->
  <location path="">
    <system.web>
      <authorization>
        <deny users="?"/>
      </authorization>
    </system.web>
  </location>
  
    
  <system.serviceModel>
    <bindings>
      <basicHttpBinding>
        <binding name="BasicHttpBinding_IService1" />
      </basicHttpBinding>
    </bindings>
    <client>
      <endpoint address="http://localhost:64475/Service1.svc" binding="basicHttpBinding"
        bindingConfiguration="BasicHttpBinding_IService1" contract="WS1.IService1"
        name="BasicHttpBinding_IService1" />
    </client>
  </system.serviceModel>
</configuration>
